{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\mende\\\\Documents\\\\Angular\\\\FerreteriaDonPepe\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet RegisterComponent = class RegisterComponent {\n  constructor(forma, _sharedService, router, toastr, aRoute) {\n    this.forma = forma;\n    this._sharedService = _sharedService;\n    this.router = router;\n    this.toastr = toastr;\n    this.aRoute = aRoute;\n    this.cliente = {\n      uid: '',\n      email: '',\n      passwordd: '',\n      passwordd2: '',\n      nombrerefe: '',\n      usuarioubi: ''\n    };\n    this.uid = '';\n\n    this._sharedService.stateAuth().subscribe(res => {\n      if (res != null) {\n        this.uid = res.uid; // this.getUserInfo(this.uid);\n      }\n    });\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const uid = yield _this._sharedService.getAuthUid();\n      console.log(uid);\n    })();\n  }\n\n  registrarse() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      console.log(_this2.cliente.passwordd);\n      console.log(_this2.cliente.passwordd2);\n\n      if (_this2.cliente.passwordd == _this2.cliente.passwordd2) {\n        console.log(\"entra\");\n        const credenciales = {\n          email: _this2.cliente.email,\n          password: _this2.cliente.passwordd\n        };\n        const res = yield _this2._sharedService.register(credenciales.email, credenciales.password).catch(err => {\n          console.log(' error -> ', err);\n        });\n        const uid = yield _this2._sharedService.getAuthUid();\n        _this2.cliente.uid = uid;\n\n        _this2.guardarUser();\n\n        _this2.router.navigate(['/home']);\n      } else {\n        console.log(\"no\");\n        _this2.cliente.passwordd = \"\";\n        _this2.cliente.passwordd2 = \"\";\n      }\n    })();\n  }\n\n  guardarUser() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      const path = 'users';\n\n      _this3._sharedService.createDoc(_this3.cliente, path, _this3.cliente.uid).then(res => {\n        console.log(\"guardado con exito\");\n      }).catch(error => {});\n    })();\n  }\n\n  salir() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      // this._sharedService.logout();\n      const uid = yield _this4._sharedService.getAuthUid();\n      console.log(uid);\n    })();\n  }\n\n};\nRegisterComponent = __decorate([Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})], RegisterComponent);\nexport { RegisterComponent };","map":{"version":3,"sources":["C:/Users/mende/Documents/Angular/FerreteriaDonPepe/src/app/register/register.component.ts"],"names":["__decorate","Component","RegisterComponent","constructor","forma","_sharedService","router","toastr","aRoute","cliente","uid","email","passwordd","passwordd2","nombrerefe","usuarioubi","stateAuth","subscribe","res","ngOnInit","getAuthUid","console","log","registrarse","credenciales","password","register","catch","err","guardarUser","navigate","path","createDoc","then","error","salir","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nlet RegisterComponent = class RegisterComponent {\r\n    constructor(forma, _sharedService, router, toastr, aRoute) {\r\n        this.forma = forma;\r\n        this._sharedService = _sharedService;\r\n        this.router = router;\r\n        this.toastr = toastr;\r\n        this.aRoute = aRoute;\r\n        this.cliente = {\r\n            uid: '',\r\n            email: '',\r\n            passwordd: '',\r\n            passwordd2: '',\r\n            nombrerefe: '',\r\n            usuarioubi: ''\r\n        };\r\n        this.uid = '';\r\n        this._sharedService.stateAuth().subscribe(res => {\r\n            if (res != null) {\r\n                this.uid = res.uid;\r\n                // this.getUserInfo(this.uid);\r\n            }\r\n        });\r\n    }\r\n    async ngOnInit() {\r\n        const uid = await this._sharedService.getAuthUid();\r\n        console.log(uid);\r\n    }\r\n    async registrarse() {\r\n        console.log(this.cliente.passwordd);\r\n        console.log(this.cliente.passwordd2);\r\n        if (this.cliente.passwordd == this.cliente.passwordd2) {\r\n            console.log(\"entra\");\r\n            const credenciales = {\r\n                email: this.cliente.email,\r\n                password: this.cliente.passwordd\r\n            };\r\n            const res = await this._sharedService.register(credenciales.email, credenciales.password).catch(err => {\r\n                console.log(' error -> ', err);\r\n            });\r\n            const uid = await this._sharedService.getAuthUid();\r\n            this.cliente.uid = uid;\r\n            this.guardarUser();\r\n            this.router.navigate(['/home']);\r\n        }\r\n        else {\r\n            console.log(\"no\");\r\n            this.cliente.passwordd = \"\";\r\n            this.cliente.passwordd2 = \"\";\r\n        }\r\n    }\r\n    async guardarUser() {\r\n        const path = 'users';\r\n        this._sharedService.createDoc(this.cliente, path, this.cliente.uid).then(res => {\r\n            console.log(\"guardado con exito\");\r\n        }).catch(error => { });\r\n    }\r\n    async salir() {\r\n        // this._sharedService.logout();\r\n        const uid = await this._sharedService.getAuthUid();\r\n        console.log(uid);\r\n    }\r\n};\r\nRegisterComponent = __decorate([\r\n    Component({\r\n        selector: 'app-register',\r\n        templateUrl: './register.component.html',\r\n        styleUrls: ['./register.component.css']\r\n    })\r\n], RegisterComponent);\r\nexport { RegisterComponent };\r\n"]},"metadata":{},"sourceType":"module"}